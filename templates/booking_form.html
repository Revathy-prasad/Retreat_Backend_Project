<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Explore Retreats</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='booking_form.css') }}">
</head>

<body>
  <section class="booking-header">
    <h2>Book Your Dream Retreat</h2>
    <p>Fill out the form below to secure your spot!</p>
  </section>
  <form action="/book" method="post" enctype="multipart/form-data" required>
    <input type="text" name="user_id" placeholder="Enter your user id" required>
    <input type="text" name="user_name" placeholder="Enter your name" required>
    <input type="email" name="user_email" placeholder="Enter your email" required>
    
    <input type="tel" name="user_phone" placeholder="Enter your phone number" required>
    
    <input type="hidden" name="retreat_id" value="{{ retreat.id }}">
    <label for="retreat_title">Title:</label>
<input type="text" name="retreat_title" id="retreat_title" value="{{ retreat.title }}" readonly>

<label for="retreat_location">Location:</label>
<input type="text" name="retreat_location" id="retreat_location" value="{{ retreat.location }}" readonly>

<label for="retreat_price">Price:</label>
<input type="text" name="retreat_price" id="retreat_price" value="{{ retreat.price }}" readonly>

<label for="retreat_duration">Duration:</label>
<input type="text" name="retreat_duration" id="retreat_duration" value="{{ retreat.duration }}" readonly>


    <label for="booking_date">Booking Date:</label>
    <input type="date" name="booking_date" id="booking_date" required>
    
    <select name="payment_type">
      <option value="cash">Cash</option>
      <option value="online">Online</option>
    </select>
    <div id="payment-details">
      <div id="online-payment-details" style="display: none;">
        <label for="payment_screenshot">Upload Payment Screenshot:</label>
        <input type="file" name="payment_screenshot" id="payment_screenshot" accept="image/*">
      </div>
    </div>
    <button type="submit">Book Now</button>
  </form>

  <script>
    const paymentTypeSelect = document.querySelector('select[name="payment_type"]');
    const onlinePaymentDetails = document.getElementById('online-payment-details');

    paymentTypeSelect.addEventListener('change', () => {
      if (paymentTypeSelect.value === 'online') {
        onlinePaymentDetails.style.display = 'block';
      } else {
        onlinePaymentDetails.style.display = 'none';
      }
    });
  </script>

</body>
</html>
